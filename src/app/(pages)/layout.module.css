@reference "#tailwind.css";

/* 定义彩光动画 */
@keyframes aurora-shift {
    0% {
        background-position: 0% 0%, 100% 0%, 0% 100%, 100% 100%, 50% 50%;
    }
    25% {
        background-position: 100% 0%, 100% 100%, 0% 0%, 0% 100%, 50% 50%;
    }
    50% {
        background-position: 100% 100%, 0% 100%, 100% 0%, 0% 0%, 50% 50%;
    }
    75% {
        background-position: 0% 100%, 0% 0%, 100% 100%, 100% 0%, 50% 50%;
    }
    100% {
        background-position: 0% 0%, 100% 0%, 0% 100%, 100% 100%, 50% 50%;
    }
}

@keyframes hue-rotate-slow {
    0% {
        filter: hue-rotate(0deg);
    }
    100% {
        filter: hue-rotate(360deg);
    }
}

@keyframes pulse-overlay {
    0%, 100% {
        opacity: 0.5;
    }
    50% {
        opacity: 0.7;
    }
}

.layout {
    @apply min-h-full w-full flex p-0 m-0 flex-col relative overflow-hidden;
    background: #0a0a0f;

    /* 偏暗的多维彩光动态背景 */
    &::before {
        content: '';
        @apply absolute inset-0 pointer-events-none;
        background:
            radial-gradient(ellipse 100% 80% at 20% 30%, rgba(76, 29, 149, 0.35), transparent 50%),
            radial-gradient(ellipse 80% 60% at 80% 20%, rgba(219, 39, 119, 0.25), transparent 50%),
            radial-gradient(ellipse 70% 70% at 40% 80%, rgba(14, 165, 233, 0.25), transparent 50%),
            radial-gradient(ellipse 60% 50% at 70% 60%, rgba(249, 115, 22, 0.2), transparent 50%),
            radial-gradient(ellipse 90% 60% at 50% 50%, rgba(34, 197, 94, 0.15), transparent 50%),
            radial-gradient(ellipse 50% 40% at 10% 90%, rgba(168, 85, 247, 0.2), transparent 50%),
            radial-gradient(ellipse 40% 30% at 90% 80%, rgba(236, 72, 153, 0.2), transparent 50%);
        background-size: 200% 200%;
        animation: aurora-shift 30s ease-in-out infinite, hue-rotate-slow 60s linear infinite;
    }

    /* 噪点纹理层 */
    &::after {
        content: '';
        @apply absolute inset-0 pointer-events-none opacity-30;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        mix-blend-mode: overlay;
    }
}

/* 亮色模式 */
html:not(:global(.dark)) .layout {
    background: #f5f5f8;

    &::before {
        background:
            radial-gradient(ellipse 100% 80% at 20% 30%, rgba(124, 58, 237, 0.2), transparent 50%),
            radial-gradient(ellipse 80% 60% at 80% 20%, rgba(236, 72, 153, 0.15), transparent 50%),
            radial-gradient(ellipse 70% 70% at 40% 80%, rgba(56, 189, 248, 0.15), transparent 50%),
            radial-gradient(ellipse 60% 50% at 70% 60%, rgba(251, 146, 60, 0.12), transparent 50%),
            radial-gradient(ellipse 90% 60% at 50% 50%, rgba(74, 222, 128, 0.1), transparent 50%),
            radial-gradient(ellipse 50% 40% at 10% 90%, rgba(192, 132, 252, 0.12), transparent 50%),
            radial-gradient(ellipse 40% 30% at 90% 80%, rgba(251, 113, 133, 0.12), transparent 50%);
        background-size: 200% 200%;
        animation: aurora-shift 30s ease-in-out infinite, hue-rotate-slow 60s linear infinite;
    }

    &::after {
        opacity: 0.15;
        mix-blend-mode: multiply;
    }
}

html:global(.dark) .layout {
    /* 移除原来的背景图片 */
}
